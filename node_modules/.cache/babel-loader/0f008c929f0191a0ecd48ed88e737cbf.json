{"ast":null,"code":"var Immutable = require(\"immutable\");\n\nvar fs = require(\"fs\");\n\nvar path = require(\"path\");\n\nvar baseHorizontal = fs.readFileSync(path.resolve(__dirname, \"css/grid-overlay-horizontal.css\"), \"utf8\");\nvar baseVertical = fs.readFileSync(path.resolve(__dirname, \"css/grid-overlay-vertical.css\"), \"utf8\");\n\nfunction template(string, obj) {\n  obj = obj || {};\n  return string.replace(/\\{\\{(.+?)\\}\\}/g, function () {\n    if (obj[arguments[1]]) {\n      return obj[arguments[1]];\n    }\n\n    return \"\";\n  });\n}\n\nfunction getCss(opts) {\n  var base = opts.selector + \" {position:relative;}\";\n\n  if (opts.horizontal) {\n    base += baseHorizontal;\n  }\n\n  if (opts.vertical) {\n    base += baseVertical;\n  }\n\n  return template(base, opts);\n}\n\nmodule.exports.init = function (ui) {\n  const TRANSMIT_EVENT = \"ui:remote-debug:css-overlay-grid\";\n  const READY_EVENT = \"ui:remote-debug:css-overlay-grid:ready\";\n  const OPT_PATH = [\"remote-debug\", \"overlay-grid\"];\n  var defaults = {\n    offsetY: \"0\",\n    offsetX: \"0\",\n    size: \"16px\",\n    selector: \"body\",\n    color: \"rgba(0, 0, 0, .2)\",\n    horizontal: true,\n    vertical: true\n  };\n  ui.clients.on(\"connection\", function (client) {\n    client.on(READY_EVENT, function () {\n      client.emit(TRANSMIT_EVENT, {\n        innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n      });\n    });\n  });\n  ui.setOptionIn(OPT_PATH, Immutable.Map({\n    name: \"overlay-grid\",\n    title: \"Overlay CSS Grid\",\n    active: false,\n    tagline: \"Add an adjustable CSS overlay grid to your webpage\",\n    innerHTML: \"\"\n  }).merge(defaults));\n  var methods = {\n    toggle: function (value) {\n      if (value !== true) {\n        value = false;\n      }\n\n      if (value) {\n        ui.setOptionIn(OPT_PATH.concat(\"active\"), true);\n        ui.enableElement({\n          name: \"overlay-grid-js\"\n        });\n      } else {\n        ui.setOptionIn(OPT_PATH.concat(\"active\"), false);\n        ui.disableElement({\n          name: \"overlay-grid-js\"\n        });\n        ui.clients.emit(\"ui:element:remove\", {\n          id: \"__bs_overlay-grid-styles__\"\n        });\n      }\n    },\n    adjust: function (data) {\n      ui.setOptionIn(OPT_PATH, ui.getOptionIn(OPT_PATH).merge(data));\n      ui.clients.emit(TRANSMIT_EVENT, {\n        innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n      });\n    },\n    \"toggle:axis\": function (item) {\n      ui.setOptionIn(OPT_PATH.concat([item.axis]), item.value);\n      ui.clients.emit(TRANSMIT_EVENT, {\n        innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n      });\n    },\n    event: function (event) {\n      methods[event.event](event.data);\n    }\n  };\n  return methods;\n};","map":{"version":3,"names":["Immutable","require","fs","path","baseHorizontal","readFileSync","resolve","__dirname","baseVertical","template","string","obj","replace","arguments","getCss","opts","base","selector","horizontal","vertical","module","exports","init","ui","TRANSMIT_EVENT","READY_EVENT","OPT_PATH","defaults","offsetY","offsetX","size","color","clients","on","client","emit","innerHTML","options","getIn","toJS","setOptionIn","Map","name","title","active","tagline","merge","methods","toggle","value","concat","enableElement","disableElement","id","adjust","data","getOptionIn","item","axis","event"],"sources":["/Users/johnberetty/node_modules/browser-sync-ui/lib/plugins/remote-debug/overlay-grid/overlay-grid.js"],"sourcesContent":["var Immutable = require(\"immutable\");\nvar fs        = require(\"fs\");\nvar path      = require(\"path\");\nvar baseHorizontal = fs.readFileSync(path.resolve(__dirname, \"css/grid-overlay-horizontal.css\"), \"utf8\");\nvar baseVertical   = fs.readFileSync(path.resolve(__dirname, \"css/grid-overlay-vertical.css\"), \"utf8\");\n\nfunction template (string, obj) {\n    obj = obj || {};\n    return string.replace(/\\{\\{(.+?)\\}\\}/g, function () {\n        if (obj[arguments[1]]) {\n           return obj[arguments[1]];\n        }\n        return \"\";\n    });\n}\n\nfunction getCss(opts) {\n\n    var base = opts.selector + \" {position:relative;}\";\n\n    if (opts.horizontal) {\n        base += baseHorizontal;\n    }\n\n    if (opts.vertical) {\n        base += baseVertical;\n    }\n\n    return template(base, opts);\n}\n\nmodule.exports.init = function (ui) {\n\n    const TRANSMIT_EVENT = \"ui:remote-debug:css-overlay-grid\";\n    const READY_EVENT    = \"ui:remote-debug:css-overlay-grid:ready\";\n    const OPT_PATH       = [\"remote-debug\", \"overlay-grid\"];\n\n    var defaults = {\n        offsetY:  \"0\",\n        offsetX:  \"0\",\n        size:     \"16px\",\n        selector: \"body\",\n        color:    \"rgba(0, 0, 0, .2)\",\n        horizontal: true,\n        vertical: true\n    };\n\n    ui.clients.on(\"connection\", function (client) {\n        client.on(READY_EVENT, function () {\n            client.emit(TRANSMIT_EVENT, {\n                innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n            });\n        });\n    });\n\n    ui.setOptionIn(OPT_PATH, Immutable.Map({\n        name: \"overlay-grid\",\n        title: \"Overlay CSS Grid\",\n        active: false,\n        tagline: \"Add an adjustable CSS overlay grid to your webpage\",\n        innerHTML: \"\"\n    }).merge(defaults));\n\n\n    var methods = {\n        toggle: function (value) {\n            if (value !== true) {\n                value = false;\n            }\n            if (value) {\n                ui.setOptionIn(OPT_PATH.concat(\"active\"), true);\n                ui.enableElement({name: \"overlay-grid-js\"});\n            } else {\n                ui.setOptionIn(OPT_PATH.concat(\"active\"), false);\n                ui.disableElement({name: \"overlay-grid-js\"});\n                ui.clients.emit(\"ui:element:remove\", {id: \"__bs_overlay-grid-styles__\"});\n            }\n        },\n        adjust: function (data) {\n\n            ui.setOptionIn(OPT_PATH, ui.getOptionIn(OPT_PATH).merge(data));\n\n            ui.clients.emit(TRANSMIT_EVENT, {\n                innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n            });\n        },\n        \"toggle:axis\": function (item) {\n\n            ui.setOptionIn(OPT_PATH.concat([item.axis]), item.value);\n\n            ui.clients.emit(TRANSMIT_EVENT, {\n                innerHTML: getCss(ui.options.getIn(OPT_PATH).toJS())\n            });\n        },\n        event: function (event) {\n            methods[event.event](event.data);\n        }\n    };\n\n    return methods;\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}