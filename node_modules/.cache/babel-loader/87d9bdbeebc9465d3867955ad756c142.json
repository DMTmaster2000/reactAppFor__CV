{"ast":null,"code":"var _ = require(\"lodash\");\n/**\n * @constructor\n */\n\n\nvar EasyExtender = function (plugins, hooks) {\n  this.plugins = {};\n  this.pluginOptions = {};\n  this.returnValues = {};\n  this.hooks = hooks;\n  this.defaultPlugins = plugins;\n  return this;\n};\n/**\n * @returns {EasyExtender}\n */\n\n\nEasyExtender.prototype.init = function () {\n  if (this.defaultPlugins) {\n    var required = Object.keys(this.defaultPlugins);\n    required.forEach(function (name) {\n      if (_.isUndefined(this.plugins[name])) {\n        this.plugins[name] = this.defaultPlugins[name];\n      }\n    }, this);\n  }\n\n  return this;\n};\n/**\n * Call the '.plugin()' method of all registered plugins\n */\n\n\nEasyExtender.prototype.initUserPlugins = function () {\n  var args = _.toArray(arguments);\n\n  var userPlugins = _.difference(Object.keys(this.plugins), Object.keys(this.defaultPlugins));\n\n  if (userPlugins.length) {\n    userPlugins.forEach(function (plugin) {\n      var pluginOptions = {};\n\n      if (this.pluginOptions) {\n        pluginOptions = this.pluginOptions[plugin];\n      }\n\n      this.returnValues[plugin].push({\n        value: this.get(plugin).apply(null, [pluginOptions].concat(args))\n      });\n\n      if (!_.isUndefined(pluginOptions) && !_.isUndefined(pluginOptions.enabled)) {\n        if (pluginOptions.enabled) {\n          this.enablePlugin(plugin);\n        } else {\n          this.disablePlugin(plugin);\n        }\n      } else {\n        this.enablePlugin(plugin);\n      }\n    }, this);\n  }\n};\n/**\n * Wrap a module in East Extender pattern\n * @param module\n * @param localName\n */\n\n\nEasyExtender.prototype.wrap = function (module, localName) {\n  this.registerPlugin({\n    \"plugin:name\": localName,\n    \"plugin\": function () {\n      return module;\n    }\n  });\n};\n/**\n * @param {String} name\n * @returns {Function|Boolean}\n */\n\n\nEasyExtender.prototype.get = function (name) {\n  if (!_.isUndefined(this.plugins[name])) {\n    return this.plugins[name].plugin || false;\n  }\n\n  return false;\n};\n/**\n * @param {Object} module\n * @param {Object} [opts]\n * @param {Function} [cb]\n */\n\n\nEasyExtender.prototype.registerPlugin = function (module, opts, cb) {\n  var pluginOptions;\n\n  if (!_.isFunction(module.plugin)) {\n    return _.isFunction(cb) ? cb(\"Module must implement a .plugin() method\") : false;\n  }\n\n  if (!cb && opts) {\n    if (_.isFunction(opts)) {\n      cb = opts;\n    } else {\n      pluginOptions = opts;\n    }\n  }\n\n  var name = _.isUndefined(module[\"plugin:name\"]) ? _.uniqueId() : module[\"plugin:name\"];\n  this.pluginOptions[name] = pluginOptions;\n  this.returnValues[name] = [];\n  this.plugins[name] = module;\n\n  if (_.isFunction(cb)) {\n    cb(null);\n  }\n\n  this.disablePlugin(name);\n  return this;\n};\n/**\n *\n * @param name\n */\n\n\nEasyExtender.prototype.getPlugin = function (module) {\n  if (_.isString(module)) {\n    module = this.plugins[module];\n  }\n\n  if (!module) {\n    return false;\n  }\n\n  return module;\n};\n/**\n *\n * @param name\n */\n\n\nEasyExtender.prototype.disablePlugin = function (module) {\n  module = this.getPlugin(module);\n  module._enabled = false;\n  return module;\n};\n/**\n * @param name\n */\n\n\nEasyExtender.prototype.enablePlugin = function (module) {\n  module = this.getPlugin(module);\n  module._enabled = true;\n  return module;\n};\n/**\n * @param name\n * @returns {*}\n */\n\n\nEasyExtender.prototype.hook = function (name) {\n  // Get any extra args\n  var args = Array.prototype.slice.call(arguments, 1); // build a list of hook funcs\n\n  var funcs = [];\n\n  _.each(this.plugins, function (plugin) {\n    if (plugin.hooks) {\n      if (!_.isUndefined(plugin.hooks[name])) {\n        funcs.push(plugin.hooks[name]);\n      }\n    }\n  });\n\n  return this.hooks[name].apply(this, [funcs].concat(args));\n};\n/**\n * @param name\n * @returns {*}\n */\n\n\nEasyExtender.prototype.getReturnValues = function (name) {\n  return this.returnValues[name] || [];\n};\n\nmodule.exports = EasyExtender;","map":{"version":3,"names":["_","require","EasyExtender","plugins","hooks","pluginOptions","returnValues","defaultPlugins","prototype","init","required","Object","keys","forEach","name","isUndefined","initUserPlugins","args","toArray","arguments","userPlugins","difference","length","plugin","push","value","get","apply","concat","enabled","enablePlugin","disablePlugin","wrap","module","localName","registerPlugin","opts","cb","isFunction","uniqueId","getPlugin","isString","_enabled","hook","Array","slice","call","funcs","each","getReturnValues","exports"],"sources":["/Users/johnberetty/node_modules/easy-extender/index.js"],"sourcesContent":["var _ = require(\"lodash\");\n\n/**\n * @constructor\n */\nvar EasyExtender = function (plugins, hooks) {\n\n    this.plugins        = {};\n    this.pluginOptions  = {};\n    this.returnValues   = {};\n\n    this.hooks          = hooks;\n    this.defaultPlugins = plugins;\n\n    return this;\n};\n\n/**\n * @returns {EasyExtender}\n */\nEasyExtender.prototype.init = function () {\n\n    if (this.defaultPlugins) {\n        var required = Object.keys(this.defaultPlugins);\n        required.forEach(function (name) {\n            if (_.isUndefined(this.plugins[name])) {\n                this.plugins[name] = this.defaultPlugins[name];\n            }\n        }, this);\n    }\n\n    return this;\n};\n\n/**\n * Call the '.plugin()' method of all registered plugins\n */\nEasyExtender.prototype.initUserPlugins = function () {\n\n    var args = _.toArray(arguments);\n\n    var userPlugins = _.difference(Object.keys(this.plugins), Object.keys(this.defaultPlugins));\n\n    if (userPlugins.length) {\n\n        userPlugins.forEach(function (plugin) {\n\n            var pluginOptions = {};\n\n            if (this.pluginOptions) {\n                pluginOptions = this.pluginOptions[plugin];\n            }\n\n            this.returnValues[plugin].push({\n                value: this.get(plugin).apply(null, [pluginOptions].concat(args))\n            });\n\n            if (!_.isUndefined(pluginOptions) && !_.isUndefined(pluginOptions.enabled)) {\n                if (pluginOptions.enabled) {\n                    this.enablePlugin(plugin);\n                } else {\n                    this.disablePlugin(plugin);\n                }\n            } else {\n                this.enablePlugin(plugin);\n            }\n\n        }, this);\n    }\n};\n\n/**\n * Wrap a module in East Extender pattern\n * @param module\n * @param localName\n */\nEasyExtender.prototype.wrap = function (module, localName) {\n    this.registerPlugin({\n        \"plugin:name\": localName,\n        \"plugin\": function () {\n            return module;\n        }\n    });\n};\n\n/**\n * @param {String} name\n * @returns {Function|Boolean}\n */\nEasyExtender.prototype.get = function (name) {\n\n    if (!_.isUndefined(this.plugins[name])) {\n        return this.plugins[name].plugin || false;\n    }\n\n    return false;\n};\n\n/**\n * @param {Object} module\n * @param {Object} [opts]\n * @param {Function} [cb]\n */\nEasyExtender.prototype.registerPlugin = function (module, opts, cb) {\n\n    var pluginOptions;\n\n    if (!_.isFunction(module.plugin)) {\n        return _.isFunction(cb) ? cb(\"Module must implement a .plugin() method\") : false;\n    }\n\n    if (!cb && opts) {\n        if (_.isFunction(opts)) {\n            cb = opts;\n        } else {\n            pluginOptions = opts;\n        }\n    }\n\n    var name = _.isUndefined(module[\"plugin:name\"]) ? _.uniqueId() : module[\"plugin:name\"];\n\n    this.pluginOptions[name] = pluginOptions;\n    this.returnValues[name]  = [];\n\n    this.plugins[name] = module;\n\n    if (_.isFunction(cb)) {\n        cb(null);\n    }\n\n    this.disablePlugin(name);\n\n    return this;\n};\n\n/**\n *\n * @param name\n */\nEasyExtender.prototype.getPlugin = function (module) {\n\n    if (_.isString(module)) {\n        module = this.plugins[module];\n    }\n\n    if (!module) {\n        return false;\n    }\n\n    return module;\n};\n\n/**\n *\n * @param name\n */\nEasyExtender.prototype.disablePlugin = function (module) {\n\n    module = this.getPlugin(module);\n    module._enabled = false;\n\n    return module;\n};\n\n/**\n * @param name\n */\nEasyExtender.prototype.enablePlugin = function (module) {\n\n    module = this.getPlugin(module);\n    module._enabled = true;\n\n    return module;\n};\n\n/**\n * @param name\n * @returns {*}\n */\nEasyExtender.prototype.hook = function (name) {\n\n    // Get any extra args\n    var args  = Array.prototype.slice.call(arguments, 1);\n\n    // build a list of hook funcs\n    var funcs = [];\n\n    _.each(this.plugins, function (plugin) {\n        if (plugin.hooks) {\n            if (!_.isUndefined(plugin.hooks[name])) {\n                funcs.push(plugin.hooks[name]);\n            }\n        }\n    });\n\n    return this.hooks[name].apply(this, [funcs].concat(args));\n};\n\n/**\n * @param name\n * @returns {*}\n */\nEasyExtender.prototype.getReturnValues = function (name) {\n    return this.returnValues[name] || [];\n};\n\nmodule.exports = EasyExtender;"],"mappings":"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"},"metadata":{},"sourceType":"script"}