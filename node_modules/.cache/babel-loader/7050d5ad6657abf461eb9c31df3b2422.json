{"ast":null,"code":"module.exports = enableDestroy;\n\nfunction enableDestroy(server) {\n  var connections = {};\n  server.on('connection', function (conn) {\n    var key = conn.remoteAddress + ':' + conn.remotePort;\n    connections[key] = conn;\n    conn.on('close', function () {\n      delete connections[key];\n    });\n  });\n\n  server.destroy = function (cb) {\n    server.close(cb);\n\n    for (var key in connections) connections[key].destroy();\n  };\n}","map":{"version":3,"names":["module","exports","enableDestroy","server","connections","on","conn","key","remoteAddress","remotePort","destroy","cb","close"],"sources":["/Users/johnberetty/node_modules/server-destroy/index.js"],"sourcesContent":["module.exports = enableDestroy;\n\nfunction enableDestroy(server) {\n  var connections = {}\n\n  server.on('connection', function(conn) {\n    var key = conn.remoteAddress + ':' + conn.remotePort;\n    connections[key] = conn;\n    conn.on('close', function() {\n      delete connections[key];\n    });\n  });\n\n  server.destroy = function(cb) {\n    server.close(cb);\n    for (var key in connections)\n      connections[key].destroy();\n  };\n}\n"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,aAAjB;;AAEA,SAASA,aAAT,CAAuBC,MAAvB,EAA+B;EAC7B,IAAIC,WAAW,GAAG,EAAlB;EAEAD,MAAM,CAACE,EAAP,CAAU,YAAV,EAAwB,UAASC,IAAT,EAAe;IACrC,IAAIC,GAAG,GAAGD,IAAI,CAACE,aAAL,GAAqB,GAArB,GAA2BF,IAAI,CAACG,UAA1C;IACAL,WAAW,CAACG,GAAD,CAAX,GAAmBD,IAAnB;IACAA,IAAI,CAACD,EAAL,CAAQ,OAAR,EAAiB,YAAW;MAC1B,OAAOD,WAAW,CAACG,GAAD,CAAlB;IACD,CAFD;EAGD,CAND;;EAQAJ,MAAM,CAACO,OAAP,GAAiB,UAASC,EAAT,EAAa;IAC5BR,MAAM,CAACS,KAAP,CAAaD,EAAb;;IACA,KAAK,IAAIJ,GAAT,IAAgBH,WAAhB,EACEA,WAAW,CAACG,GAAD,CAAX,CAAiBG,OAAjB;EACH,CAJD;AAKD"},"metadata":{},"sourceType":"script"}