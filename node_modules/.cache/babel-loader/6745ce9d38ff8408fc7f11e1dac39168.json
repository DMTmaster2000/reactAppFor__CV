{"ast":null,"code":"'use strict';\n\nconst fs = require('graceful-fs');\n\nconst BUF_LENGTH = 64 * 1024;\n\nconst _buff = require('../util/buffer')(BUF_LENGTH);\n\nfunction copyFileSync(srcFile, destFile, options) {\n  const overwrite = options.overwrite;\n  const errorOnExist = options.errorOnExist;\n  const preserveTimestamps = options.preserveTimestamps;\n\n  if (fs.existsSync(destFile)) {\n    if (overwrite) {\n      fs.unlinkSync(destFile);\n    } else if (errorOnExist) {\n      throw new Error(`${destFile} already exists`);\n    } else return;\n  }\n\n  const fdr = fs.openSync(srcFile, 'r');\n  const stat = fs.fstatSync(fdr);\n  const fdw = fs.openSync(destFile, 'w', stat.mode);\n  let bytesRead = 1;\n  let pos = 0;\n\n  while (bytesRead > 0) {\n    bytesRead = fs.readSync(fdr, _buff, 0, BUF_LENGTH, pos);\n    fs.writeSync(fdw, _buff, 0, bytesRead);\n    pos += bytesRead;\n  }\n\n  if (preserveTimestamps) {\n    fs.futimesSync(fdw, stat.atime, stat.mtime);\n  }\n\n  fs.closeSync(fdr);\n  fs.closeSync(fdw);\n}\n\nmodule.exports = copyFileSync;","map":{"version":3,"names":["fs","require","BUF_LENGTH","_buff","copyFileSync","srcFile","destFile","options","overwrite","errorOnExist","preserveTimestamps","existsSync","unlinkSync","Error","fdr","openSync","stat","fstatSync","fdw","mode","bytesRead","pos","readSync","writeSync","futimesSync","atime","mtime","closeSync","module","exports"],"sources":["/Users/johnberetty/node_modules/fs-extra/lib/copy-sync/copy-file-sync.js"],"sourcesContent":["'use strict'\n\nconst fs = require('graceful-fs')\n\nconst BUF_LENGTH = 64 * 1024\nconst _buff = require('../util/buffer')(BUF_LENGTH)\n\nfunction copyFileSync (srcFile, destFile, options) {\n  const overwrite = options.overwrite\n  const errorOnExist = options.errorOnExist\n  const preserveTimestamps = options.preserveTimestamps\n\n  if (fs.existsSync(destFile)) {\n    if (overwrite) {\n      fs.unlinkSync(destFile)\n    } else if (errorOnExist) {\n      throw new Error(`${destFile} already exists`)\n    } else return\n  }\n\n  const fdr = fs.openSync(srcFile, 'r')\n  const stat = fs.fstatSync(fdr)\n  const fdw = fs.openSync(destFile, 'w', stat.mode)\n  let bytesRead = 1\n  let pos = 0\n\n  while (bytesRead > 0) {\n    bytesRead = fs.readSync(fdr, _buff, 0, BUF_LENGTH, pos)\n    fs.writeSync(fdw, _buff, 0, bytesRead)\n    pos += bytesRead\n  }\n\n  if (preserveTimestamps) {\n    fs.futimesSync(fdw, stat.atime, stat.mtime)\n  }\n\n  fs.closeSync(fdr)\n  fs.closeSync(fdw)\n}\n\nmodule.exports = copyFileSync\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,aAAD,CAAlB;;AAEA,MAAMC,UAAU,GAAG,KAAK,IAAxB;;AACA,MAAMC,KAAK,GAAGF,OAAO,CAAC,gBAAD,CAAP,CAA0BC,UAA1B,CAAd;;AAEA,SAASE,YAAT,CAAuBC,OAAvB,EAAgCC,QAAhC,EAA0CC,OAA1C,EAAmD;EACjD,MAAMC,SAAS,GAAGD,OAAO,CAACC,SAA1B;EACA,MAAMC,YAAY,GAAGF,OAAO,CAACE,YAA7B;EACA,MAAMC,kBAAkB,GAAGH,OAAO,CAACG,kBAAnC;;EAEA,IAAIV,EAAE,CAACW,UAAH,CAAcL,QAAd,CAAJ,EAA6B;IAC3B,IAAIE,SAAJ,EAAe;MACbR,EAAE,CAACY,UAAH,CAAcN,QAAd;IACD,CAFD,MAEO,IAAIG,YAAJ,EAAkB;MACvB,MAAM,IAAII,KAAJ,CAAW,GAAEP,QAAS,iBAAtB,CAAN;IACD,CAFM,MAEA;EACR;;EAED,MAAMQ,GAAG,GAAGd,EAAE,CAACe,QAAH,CAAYV,OAAZ,EAAqB,GAArB,CAAZ;EACA,MAAMW,IAAI,GAAGhB,EAAE,CAACiB,SAAH,CAAaH,GAAb,CAAb;EACA,MAAMI,GAAG,GAAGlB,EAAE,CAACe,QAAH,CAAYT,QAAZ,EAAsB,GAAtB,EAA2BU,IAAI,CAACG,IAAhC,CAAZ;EACA,IAAIC,SAAS,GAAG,CAAhB;EACA,IAAIC,GAAG,GAAG,CAAV;;EAEA,OAAOD,SAAS,GAAG,CAAnB,EAAsB;IACpBA,SAAS,GAAGpB,EAAE,CAACsB,QAAH,CAAYR,GAAZ,EAAiBX,KAAjB,EAAwB,CAAxB,EAA2BD,UAA3B,EAAuCmB,GAAvC,CAAZ;IACArB,EAAE,CAACuB,SAAH,CAAaL,GAAb,EAAkBf,KAAlB,EAAyB,CAAzB,EAA4BiB,SAA5B;IACAC,GAAG,IAAID,SAAP;EACD;;EAED,IAAIV,kBAAJ,EAAwB;IACtBV,EAAE,CAACwB,WAAH,CAAeN,GAAf,EAAoBF,IAAI,CAACS,KAAzB,EAAgCT,IAAI,CAACU,KAArC;EACD;;EAED1B,EAAE,CAAC2B,SAAH,CAAab,GAAb;EACAd,EAAE,CAAC2B,SAAH,CAAaT,GAAb;AACD;;AAEDU,MAAM,CAACC,OAAP,GAAiBzB,YAAjB"},"metadata":{},"sourceType":"script"}