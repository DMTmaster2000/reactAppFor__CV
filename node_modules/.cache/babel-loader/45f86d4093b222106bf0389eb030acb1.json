{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar immutable_1 = require(\"immutable\");\n\nfunction handleServerOption(incoming) {\n  var value = incoming.get(\"server\");\n\n  if (value === false) {\n    return [incoming, []];\n  } // server: true\n\n\n  if (value === true) {\n    var obj = {\n      baseDir: [\"./\"]\n    };\n    return [incoming.set(\"server\", immutable_1.fromJS(obj)), []];\n  } // server: \"./app\"\n\n\n  if (typeof value === \"string\") {\n    var obj = {\n      baseDir: [value]\n    };\n    return [incoming.set(\"server\", immutable_1.fromJS(obj)), []];\n  }\n\n  if (immutable_1.List.isList(value)) {\n    var obj = {\n      baseDir: value\n    };\n    return [incoming.set(\"server\", immutable_1.fromJS(obj)), []];\n  }\n\n  if (immutable_1.Map.isMap(value)) {\n    var dirs = immutable_1.List([]).concat(value.get(\"baseDir\", \"./\")).filter(Boolean);\n    var merged = value.merge({\n      baseDir: dirs\n    });\n    return [incoming.set(\"server\", merged), []];\n  }\n\n  return [incoming, []];\n}\n\nexports.handleServerOption = handleServerOption;","map":{"version":3,"mappings":";;;;;;AACA;;AAGA,SAAgBA,kBAAhB,CAAmCC,QAAnC,EAA0D;EACtD,IAAMC,KAAK,GAAGD,QAAQ,CAACE,GAAT,CAAa,QAAb,CAAd;;EACA,IAAID,KAAK,KAAK,KAAd,EAAqB;IACjB,OAAO,CAACD,QAAD,EAAW,EAAX,CAAP;EACH,CAJqD,CAMtD;;;EACA,IAAIC,KAAK,KAAK,IAAd,EAAoB;IAChB,IAAME,GAAG,GAAkB;MACvBC,OAAO,EAAE,CAAC,IAAD;IADc,CAA3B;IAGA,OAAO,CAACJ,QAAQ,CAACK,GAAT,CAAa,QAAb,EAAuBC,mBAAOH,GAAP,CAAvB,CAAD,EAAsC,EAAtC,CAAP;EACH,CAZqD,CActD;;;EACA,IAAI,OAAOF,KAAP,KAAiB,QAArB,EAA+B;IAC3B,IAAME,GAAG,GAAkB;MACvBC,OAAO,EAAE,CAACH,KAAD;IADc,CAA3B;IAGA,OAAO,CAACD,QAAQ,CAACK,GAAT,CAAa,QAAb,EAAuBC,mBAAOH,GAAP,CAAvB,CAAD,EAAsC,EAAtC,CAAP;EACH;;EAED,IAAIG,iBAAKC,MAAL,CAAYN,KAAZ,CAAJ,EAAwB;IACpB,IAAME,GAAG,GAAkB;MACvBC,OAAO,EAAEH;IADc,CAA3B;IAGA,OAAO,CAACD,QAAQ,CAACK,GAAT,CAAa,QAAb,EAAuBC,mBAAOH,GAAP,CAAvB,CAAD,EAAsC,EAAtC,CAAP;EACH;;EAED,IAAIG,gBAAIE,KAAJ,CAAUP,KAAV,CAAJ,EAAsB;IAClB,IAAMQ,IAAI,GAAGH,iBAAK,EAAL,EACRI,MADQ,CACDT,KAAK,CAACC,GAAN,CAAU,SAAV,EAAqB,IAArB,CADC,EAERS,MAFQ,CAEDC,OAFC,CAAb;IAIA,IAAMC,MAAM,GAAGZ,KAAK,CAACa,KAAN,CAAY;MAAEV,OAAO,EAAEK;IAAX,CAAZ,CAAf;IAEA,OAAO,CAACT,QAAQ,CAACK,GAAT,CAAa,QAAb,EAAuBQ,MAAvB,CAAD,EAAiC,EAAjC,CAAP;EACH;;EAED,OAAO,CAACb,QAAD,EAAW,EAAX,CAAP;AACH;;AAxCDe","names":["handleServerOption","incoming","value","get","obj","baseDir","set","immutable_1","isList","isMap","dirs","concat","filter","Boolean","merged","merge","exports"],"sources":["../../../lib/cli/transforms/handleServerOption.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}