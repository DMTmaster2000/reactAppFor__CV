{"ast":null,"code":"import _regeneratorRuntime from\"/Users/johnberetty/Desktop/my-app/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/johnberetty/Desktop/my-app/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/johnberetty/Desktop/my-app/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import PostService from'../API/PostService';import Loader from'../components/UI/loader/Loader';import{useFetching}from'../hooks/useFetching';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var PostIdPage=function PostIdPage(){var params=useParams();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),comments=_useState4[0],setComments=_useState4[1];var _useFetching=useFetching(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return PostService.getByid(id);case 2:response=_context.sent;setPost(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()),_useFetching2=_slicedToArray(_useFetching,2),fetchPostById=_useFetching2[0],isLoading=_useFetching2[1];var _useFetching3=useFetching(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return PostService.getCommentsByPostId(id);case 2:response=_context2.sent;setComments(response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}()),_useFetching4=_slicedToArray(_useFetching3,2),fetchComments=_useFetching4[0],isComLoading=_useFetching4[1];useEffect(function(){fetchPostById(params.id);fetchComments(params.id);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"h1\",{style:{marginTop:15,marginBottom:15},children:[\"You are on page with ID = \",params.id]}),isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{children:[post.id,\". \",post.title]}),isComLoading?/*#__PURE__*/_jsx(Loader,{}):comments.map(function(comm){return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:15},children:[/*#__PURE__*/_jsx(\"h4\",{children:comm.email}),/*#__PURE__*/_jsx(\"h5\",{children:comm.body})]},comm.id);})]});};export default PostIdPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","PostService","Loader","useFetching","PostIdPage","params","post","setPost","comments","setComments","id","getByid","response","data","fetchPostById","isLoading","getCommentsByPostId","fetchComments","isComLoading","display","flexDirection","alignItems","textAlign","marginTop","marginBottom","title","map","comm","email","body"],"sources":["/Users/johnberetty/Desktop/my-app/my-app/src/pages/PostIdPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport PostService from '../API/PostService';\nimport Loader from '../components/UI/loader/Loader';\nimport { useFetching } from '../hooks/useFetching';\n\n\n\nconst PostIdPage = () => {\n\tconst params = useParams()\n\tconst [post, setPost] = useState({})\n\tconst [comments, setComments] = useState([])\n\tconst [fetchPostById, isLoading] = useFetching(async (id) => {\n\t\tconst response = await PostService.getByid(id)\n\t\tsetPost(response.data)\n\t})\n\tconst [fetchComments, isComLoading] = useFetching(async (id) => {\n\t\tconst response = await PostService.getCommentsByPostId(id)\n\t\tsetComments(response.data)\n\t})\n\n\tuseEffect(() => {\n\t\tfetchPostById(params.id)\n\t\tfetchComments(params.id)\n\t}, [])\n\treturn (\n\t\t<div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center' }}>\n\t\t\t<h1 style={{ marginTop: 15, marginBottom: 15 }} >You are on page with ID = {params.id}</h1>\n\t\t\t{isLoading\n\t\t\t\t? <Loader />\n\t\t\t\t: <div>{post.id}. {post.title}</div>}\n\t\t\t{isComLoading\n\t\t\t\t? <Loader />\n\t\t\t\t: comments.map(comm =>\n\t\t\t\t\t<div key={comm.id} style={{ marginTop: 15 }}>\n\t\t\t\t\t\t<h4>{comm.email}</h4>\n\t\t\t\t\t\t<h5>{comm.body}</h5>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nexport default PostIdPage;\n"],"mappings":"0YAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,YAAP,KAAwB,oBAAxB,CACA,MAAOC,OAAP,KAAmB,gCAAnB,CACA,OAASC,WAAT,KAA4B,sBAA5B,C,wFAIA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACxB,GAAMC,OAAM,CAAGL,SAAS,EAAxB,CACA,cAAwBF,QAAQ,CAAC,EAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,iBAAmCN,WAAW,4FAAC,iBAAOO,EAAP,uJACvBT,YAAW,CAACU,OAAZ,CAAoBD,EAApB,CADuB,QACxCE,QADwC,eAE9CL,OAAO,CAACK,QAAQ,CAACC,IAAV,CAAP,CAF8C,sDAAD,+DAA9C,8CAAOC,aAAP,kBAAsBC,SAAtB,kBAIA,kBAAsCZ,WAAW,6FAAC,kBAAOO,EAAP,4JAC1BT,YAAW,CAACe,mBAAZ,CAAgCN,EAAhC,CAD0B,QAC3CE,QAD2C,gBAEjDH,WAAW,CAACG,QAAQ,CAACC,IAAV,CAAX,CAFiD,wDAAD,iEAAjD,+CAAOI,aAAP,kBAAsBC,YAAtB,kBAKAnB,SAAS,CAAC,UAAM,CACfe,aAAa,CAACT,MAAM,CAACK,EAAR,CAAb,CACAO,aAAa,CAACZ,MAAM,CAACK,EAAR,CAAb,CACA,CAHQ,CAGN,EAHM,CAAT,CAIA,mBACC,aAAK,KAAK,CAAE,CAAES,OAAO,CAAE,MAAX,CAAmBC,aAAa,CAAE,QAAlC,CAA4CC,UAAU,CAAE,QAAxD,CAAkEC,SAAS,CAAE,QAA7E,CAAZ,wBACC,YAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,EAAb,CAAiBC,YAAY,CAAE,EAA/B,CAAX,wCAA4EnB,MAAM,CAACK,EAAnF,GADD,CAEEK,SAAS,cACP,KAAC,MAAD,IADO,cAEP,uBAAMT,IAAI,CAACI,EAAX,MAAiBJ,IAAI,CAACmB,KAAtB,GAJJ,CAKEP,YAAY,cACV,KAAC,MAAD,IADU,CAEVV,QAAQ,CAACkB,GAAT,CAAa,SAAAC,IAAI,qBAClB,aAAmB,KAAK,CAAE,CAAEJ,SAAS,CAAE,EAAb,CAA1B,wBACC,oBAAKI,IAAI,CAACC,KAAV,EADD,cAEC,oBAAKD,IAAI,CAACE,IAAV,EAFD,GAAUF,IAAI,CAACjB,EAAf,CADkB,EAAjB,CAPJ,GADD,CAiBA,CAlCD,CAoCA,cAAeN,WAAf"},"metadata":{},"sourceType":"module"}