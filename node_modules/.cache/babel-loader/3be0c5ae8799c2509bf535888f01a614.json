{"ast":null,"code":"'use strict';\n\nconst Namespace = require('./namespace');\n\nlet count = 0;\n\nclass ParentNamespace extends Namespace {\n  constructor(server) {\n    super(server, '/_' + count++);\n    this.children = new Set();\n  }\n\n  initAdapter() {}\n\n  emit() {\n    const args = Array.prototype.slice.call(arguments);\n    this.children.forEach(nsp => {\n      nsp.rooms = this.rooms;\n      nsp.flags = this.flags;\n      nsp.emit.apply(nsp, args);\n    });\n    this.rooms = [];\n    this.flags = {};\n  }\n\n  createChild(name) {\n    const namespace = new Namespace(this.server, name);\n    namespace.fns = this.fns.slice(0);\n    this.listeners('connect').forEach(listener => namespace.on('connect', listener));\n    this.listeners('connection').forEach(listener => namespace.on('connection', listener));\n    this.children.add(namespace);\n    this.server.nsps[name] = namespace;\n    return namespace;\n  }\n\n}\n\nmodule.exports = ParentNamespace;","map":{"version":3,"names":["Namespace","require","count","ParentNamespace","constructor","server","children","Set","initAdapter","emit","args","Array","prototype","slice","call","arguments","forEach","nsp","rooms","flags","apply","createChild","name","namespace","fns","listeners","listener","on","add","nsps","module","exports"],"sources":["/Users/johnberetty/node_modules/socket.io/lib/parent-namespace.js"],"sourcesContent":["'use strict';\n\nconst Namespace = require('./namespace');\n\nlet count = 0;\n\nclass ParentNamespace extends Namespace {\n\n  constructor(server) {\n    super(server, '/_' + (count++));\n    this.children = new Set();\n  }\n\n  initAdapter() {}\n\n  emit() {\n    const args = Array.prototype.slice.call(arguments);\n\n    this.children.forEach(nsp => {\n      nsp.rooms = this.rooms;\n      nsp.flags = this.flags;\n      nsp.emit.apply(nsp, args);\n    });\n    this.rooms = [];\n    this.flags = {};\n  }\n\n  createChild(name) {\n    const namespace = new Namespace(this.server, name);\n    namespace.fns = this.fns.slice(0);\n    this.listeners('connect').forEach(listener => namespace.on('connect', listener));\n    this.listeners('connection').forEach(listener => namespace.on('connection', listener));\n    this.children.add(namespace);\n    this.server.nsps[name] = namespace;\n    return namespace;\n  }\n}\n\nmodule.exports = ParentNamespace;\n"],"mappings":"AAAA;;AAEA,MAAMA,SAAS,GAAGC,OAAO,CAAC,aAAD,CAAzB;;AAEA,IAAIC,KAAK,GAAG,CAAZ;;AAEA,MAAMC,eAAN,SAA8BH,SAA9B,CAAwC;EAEtCI,WAAW,CAACC,MAAD,EAAS;IAClB,MAAMA,MAAN,EAAc,OAAQH,KAAK,EAA3B;IACA,KAAKI,QAAL,GAAgB,IAAIC,GAAJ,EAAhB;EACD;;EAEDC,WAAW,GAAG,CAAE;;EAEhBC,IAAI,GAAG;IACL,MAAMC,IAAI,GAAGC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAb;IAEA,KAAKT,QAAL,CAAcU,OAAd,CAAsBC,GAAG,IAAI;MAC3BA,GAAG,CAACC,KAAJ,GAAY,KAAKA,KAAjB;MACAD,GAAG,CAACE,KAAJ,GAAY,KAAKA,KAAjB;MACAF,GAAG,CAACR,IAAJ,CAASW,KAAT,CAAeH,GAAf,EAAoBP,IAApB;IACD,CAJD;IAKA,KAAKQ,KAAL,GAAa,EAAb;IACA,KAAKC,KAAL,GAAa,EAAb;EACD;;EAEDE,WAAW,CAACC,IAAD,EAAO;IAChB,MAAMC,SAAS,GAAG,IAAIvB,SAAJ,CAAc,KAAKK,MAAnB,EAA2BiB,IAA3B,CAAlB;IACAC,SAAS,CAACC,GAAV,GAAgB,KAAKA,GAAL,CAASX,KAAT,CAAe,CAAf,CAAhB;IACA,KAAKY,SAAL,CAAe,SAAf,EAA0BT,OAA1B,CAAkCU,QAAQ,IAAIH,SAAS,CAACI,EAAV,CAAa,SAAb,EAAwBD,QAAxB,CAA9C;IACA,KAAKD,SAAL,CAAe,YAAf,EAA6BT,OAA7B,CAAqCU,QAAQ,IAAIH,SAAS,CAACI,EAAV,CAAa,YAAb,EAA2BD,QAA3B,CAAjD;IACA,KAAKpB,QAAL,CAAcsB,GAAd,CAAkBL,SAAlB;IACA,KAAKlB,MAAL,CAAYwB,IAAZ,CAAiBP,IAAjB,IAAyBC,SAAzB;IACA,OAAOA,SAAP;EACD;;AA7BqC;;AAgCxCO,MAAM,CAACC,OAAP,GAAiB5B,eAAjB"},"metadata":{},"sourceType":"script"}