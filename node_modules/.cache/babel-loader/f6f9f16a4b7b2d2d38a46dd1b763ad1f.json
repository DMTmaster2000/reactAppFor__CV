{"ast":null,"code":"// imported from ncp (this is temporary, will rewrite)\nvar fs = require('graceful-fs');\n\nvar path = require('path');\n\nvar utimes = require('../util/utimes');\n\nfunction ncp(source, dest, options, callback) {\n  if (!callback) {\n    callback = options;\n    options = {};\n  }\n\n  var basePath = process.cwd();\n  var currentPath = path.resolve(basePath, source);\n  var targetPath = path.resolve(basePath, dest);\n  var filter = options.filter;\n  var transform = options.transform;\n  var overwrite = options.overwrite; // If overwrite is undefined, use clobber, otherwise default to true:\n\n  if (overwrite === undefined) overwrite = options.clobber;\n  if (overwrite === undefined) overwrite = true;\n  var errorOnExist = options.errorOnExist;\n  var dereference = options.dereference;\n  var preserveTimestamps = options.preserveTimestamps === true;\n  var started = 0;\n  var finished = 0;\n  var running = 0;\n  var errored = false;\n  startCopy(currentPath);\n\n  function startCopy(source) {\n    started++;\n\n    if (filter) {\n      if (filter instanceof RegExp) {\n        console.warn('Warning: fs-extra: Passing a RegExp filter is deprecated, use a function');\n\n        if (!filter.test(source)) {\n          return doneOne(true);\n        }\n      } else if (typeof filter === 'function') {\n        if (!filter(source, dest)) {\n          return doneOne(true);\n        }\n      }\n    }\n\n    return getStats(source);\n  }\n\n  function getStats(source) {\n    var stat = dereference ? fs.stat : fs.lstat;\n    running++;\n    stat(source, function (err, stats) {\n      if (err) return onError(err); // We need to get the mode from the stats object and preserve it.\n\n      var item = {\n        name: source,\n        mode: stats.mode,\n        mtime: stats.mtime,\n        // modified time\n        atime: stats.atime,\n        // access time\n        stats: stats // temporary\n\n      };\n\n      if (stats.isDirectory()) {\n        return onDir(item);\n      } else if (stats.isFile() || stats.isCharacterDevice() || stats.isBlockDevice()) {\n        return onFile(item);\n      } else if (stats.isSymbolicLink()) {\n        // Symlinks don't really need to know about the mode.\n        return onLink(source);\n      }\n    });\n  }\n\n  function onFile(file) {\n    var target = file.name.replace(currentPath, targetPath.replace('$', '$$$$')); // escapes '$' with '$$'\n\n    isWritable(target, function (writable) {\n      if (writable) {\n        copyFile(file, target);\n      } else {\n        if (overwrite) {\n          rmFile(target, function () {\n            copyFile(file, target);\n          });\n        } else if (errorOnExist) {\n          onError(new Error(target + ' already exists'));\n        } else {\n          doneOne();\n        }\n      }\n    });\n  }\n\n  function copyFile(file, target) {\n    var readStream = fs.createReadStream(file.name);\n    var writeStream = fs.createWriteStream(target, {\n      mode: file.mode\n    });\n    readStream.on('error', onError);\n    writeStream.on('error', onError);\n\n    if (transform) {\n      transform(readStream, writeStream, file);\n    } else {\n      writeStream.on('open', function () {\n        readStream.pipe(writeStream);\n      });\n    }\n\n    writeStream.once('close', function () {\n      fs.chmod(target, file.mode, function (err) {\n        if (err) return onError(err);\n\n        if (preserveTimestamps) {\n          utimes.utimesMillis(target, file.atime, file.mtime, function (err) {\n            if (err) return onError(err);\n            return doneOne();\n          });\n        } else {\n          doneOne();\n        }\n      });\n    });\n  }\n\n  function rmFile(file, done) {\n    fs.unlink(file, function (err) {\n      if (err) return onError(err);\n      return done();\n    });\n  }\n\n  function onDir(dir) {\n    var target = dir.name.replace(currentPath, targetPath.replace('$', '$$$$')); // escapes '$' with '$$'\n\n    isWritable(target, function (writable) {\n      if (writable) {\n        return mkDir(dir, target);\n      }\n\n      copyDir(dir.name);\n    });\n  }\n\n  function mkDir(dir, target) {\n    fs.mkdir(target, dir.mode, function (err) {\n      if (err) return onError(err); // despite setting mode in fs.mkdir, doesn't seem to work\n      // so we set it here.\n\n      fs.chmod(target, dir.mode, function (err) {\n        if (err) return onError(err);\n        copyDir(dir.name);\n      });\n    });\n  }\n\n  function copyDir(dir) {\n    fs.readdir(dir, function (err, items) {\n      if (err) return onError(err);\n      items.forEach(function (item) {\n        startCopy(path.join(dir, item));\n      });\n      return doneOne();\n    });\n  }\n\n  function onLink(link) {\n    var target = link.replace(currentPath, targetPath);\n    fs.readlink(link, function (err, resolvedPath) {\n      if (err) return onError(err);\n      checkLink(resolvedPath, target);\n    });\n  }\n\n  function checkLink(resolvedPath, target) {\n    if (dereference) {\n      resolvedPath = path.resolve(basePath, resolvedPath);\n    }\n\n    isWritable(target, function (writable) {\n      if (writable) {\n        return makeLink(resolvedPath, target);\n      }\n\n      fs.readlink(target, function (err, targetDest) {\n        if (err) return onError(err);\n\n        if (dereference) {\n          targetDest = path.resolve(basePath, targetDest);\n        }\n\n        if (targetDest === resolvedPath) {\n          return doneOne();\n        }\n\n        return rmFile(target, function () {\n          makeLink(resolvedPath, target);\n        });\n      });\n    });\n  }\n\n  function makeLink(linkPath, target) {\n    fs.symlink(linkPath, target, function (err) {\n      if (err) return onError(err);\n      return doneOne();\n    });\n  }\n\n  function isWritable(path, done) {\n    fs.lstat(path, function (err) {\n      if (err) {\n        if (err.code === 'ENOENT') return done(true);\n        return done(false);\n      }\n\n      return done(false);\n    });\n  }\n\n  function onError(err) {\n    // ensure callback is defined & called only once:\n    if (!errored && callback !== undefined) {\n      errored = true;\n      return callback(err);\n    }\n  }\n\n  function doneOne(skipped) {\n    if (!skipped) running--;\n    finished++;\n\n    if (started === finished && running === 0) {\n      if (callback !== undefined) {\n        return callback(null);\n      }\n    }\n  }\n}\n\nmodule.exports = ncp;","map":{"version":3,"names":["fs","require","path","utimes","ncp","source","dest","options","callback","basePath","process","cwd","currentPath","resolve","targetPath","filter","transform","overwrite","undefined","clobber","errorOnExist","dereference","preserveTimestamps","started","finished","running","errored","startCopy","RegExp","console","warn","test","doneOne","getStats","stat","lstat","err","stats","onError","item","name","mode","mtime","atime","isDirectory","onDir","isFile","isCharacterDevice","isBlockDevice","onFile","isSymbolicLink","onLink","file","target","replace","isWritable","writable","copyFile","rmFile","Error","readStream","createReadStream","writeStream","createWriteStream","on","pipe","once","chmod","utimesMillis","done","unlink","dir","mkDir","copyDir","mkdir","readdir","items","forEach","join","link","readlink","resolvedPath","checkLink","makeLink","targetDest","linkPath","symlink","code","skipped","module","exports"],"sources":["/Users/johnberetty/node_modules/fs-extra/lib/copy/ncp.js"],"sourcesContent":["// imported from ncp (this is temporary, will rewrite)\n\nvar fs = require('graceful-fs')\nvar path = require('path')\nvar utimes = require('../util/utimes')\n\nfunction ncp (source, dest, options, callback) {\n  if (!callback) {\n    callback = options\n    options = {}\n  }\n\n  var basePath = process.cwd()\n  var currentPath = path.resolve(basePath, source)\n  var targetPath = path.resolve(basePath, dest)\n\n  var filter = options.filter\n  var transform = options.transform\n  var overwrite = options.overwrite\n  // If overwrite is undefined, use clobber, otherwise default to true:\n  if (overwrite === undefined) overwrite = options.clobber\n  if (overwrite === undefined) overwrite = true\n  var errorOnExist = options.errorOnExist\n  var dereference = options.dereference\n  var preserveTimestamps = options.preserveTimestamps === true\n\n  var started = 0\n  var finished = 0\n  var running = 0\n\n  var errored = false\n\n  startCopy(currentPath)\n\n  function startCopy (source) {\n    started++\n    if (filter) {\n      if (filter instanceof RegExp) {\n        console.warn('Warning: fs-extra: Passing a RegExp filter is deprecated, use a function')\n        if (!filter.test(source)) {\n          return doneOne(true)\n        }\n      } else if (typeof filter === 'function') {\n        if (!filter(source, dest)) {\n          return doneOne(true)\n        }\n      }\n    }\n    return getStats(source)\n  }\n\n  function getStats (source) {\n    var stat = dereference ? fs.stat : fs.lstat\n    running++\n    stat(source, function (err, stats) {\n      if (err) return onError(err)\n\n      // We need to get the mode from the stats object and preserve it.\n      var item = {\n        name: source,\n        mode: stats.mode,\n        mtime: stats.mtime, // modified time\n        atime: stats.atime, // access time\n        stats: stats // temporary\n      }\n\n      if (stats.isDirectory()) {\n        return onDir(item)\n      } else if (stats.isFile() || stats.isCharacterDevice() || stats.isBlockDevice()) {\n        return onFile(item)\n      } else if (stats.isSymbolicLink()) {\n        // Symlinks don't really need to know about the mode.\n        return onLink(source)\n      }\n    })\n  }\n\n  function onFile (file) {\n    var target = file.name.replace(currentPath, targetPath.replace('$', '$$$$')) // escapes '$' with '$$'\n    isWritable(target, function (writable) {\n      if (writable) {\n        copyFile(file, target)\n      } else {\n        if (overwrite) {\n          rmFile(target, function () {\n            copyFile(file, target)\n          })\n        } else if (errorOnExist) {\n          onError(new Error(target + ' already exists'))\n        } else {\n          doneOne()\n        }\n      }\n    })\n  }\n\n  function copyFile (file, target) {\n    var readStream = fs.createReadStream(file.name)\n    var writeStream = fs.createWriteStream(target, { mode: file.mode })\n\n    readStream.on('error', onError)\n    writeStream.on('error', onError)\n\n    if (transform) {\n      transform(readStream, writeStream, file)\n    } else {\n      writeStream.on('open', function () {\n        readStream.pipe(writeStream)\n      })\n    }\n\n    writeStream.once('close', function () {\n      fs.chmod(target, file.mode, function (err) {\n        if (err) return onError(err)\n        if (preserveTimestamps) {\n          utimes.utimesMillis(target, file.atime, file.mtime, function (err) {\n            if (err) return onError(err)\n            return doneOne()\n          })\n        } else {\n          doneOne()\n        }\n      })\n    })\n  }\n\n  function rmFile (file, done) {\n    fs.unlink(file, function (err) {\n      if (err) return onError(err)\n      return done()\n    })\n  }\n\n  function onDir (dir) {\n    var target = dir.name.replace(currentPath, targetPath.replace('$', '$$$$')) // escapes '$' with '$$'\n    isWritable(target, function (writable) {\n      if (writable) {\n        return mkDir(dir, target)\n      }\n      copyDir(dir.name)\n    })\n  }\n\n  function mkDir (dir, target) {\n    fs.mkdir(target, dir.mode, function (err) {\n      if (err) return onError(err)\n      // despite setting mode in fs.mkdir, doesn't seem to work\n      // so we set it here.\n      fs.chmod(target, dir.mode, function (err) {\n        if (err) return onError(err)\n        copyDir(dir.name)\n      })\n    })\n  }\n\n  function copyDir (dir) {\n    fs.readdir(dir, function (err, items) {\n      if (err) return onError(err)\n      items.forEach(function (item) {\n        startCopy(path.join(dir, item))\n      })\n      return doneOne()\n    })\n  }\n\n  function onLink (link) {\n    var target = link.replace(currentPath, targetPath)\n    fs.readlink(link, function (err, resolvedPath) {\n      if (err) return onError(err)\n      checkLink(resolvedPath, target)\n    })\n  }\n\n  function checkLink (resolvedPath, target) {\n    if (dereference) {\n      resolvedPath = path.resolve(basePath, resolvedPath)\n    }\n    isWritable(target, function (writable) {\n      if (writable) {\n        return makeLink(resolvedPath, target)\n      }\n      fs.readlink(target, function (err, targetDest) {\n        if (err) return onError(err)\n\n        if (dereference) {\n          targetDest = path.resolve(basePath, targetDest)\n        }\n        if (targetDest === resolvedPath) {\n          return doneOne()\n        }\n        return rmFile(target, function () {\n          makeLink(resolvedPath, target)\n        })\n      })\n    })\n  }\n\n  function makeLink (linkPath, target) {\n    fs.symlink(linkPath, target, function (err) {\n      if (err) return onError(err)\n      return doneOne()\n    })\n  }\n\n  function isWritable (path, done) {\n    fs.lstat(path, function (err) {\n      if (err) {\n        if (err.code === 'ENOENT') return done(true)\n        return done(false)\n      }\n      return done(false)\n    })\n  }\n\n  function onError (err) {\n    // ensure callback is defined & called only once:\n    if (!errored && callback !== undefined) {\n      errored = true\n      return callback(err)\n    }\n  }\n\n  function doneOne (skipped) {\n    if (!skipped) running--\n    finished++\n    if ((started === finished) && (running === 0)) {\n      if (callback !== undefined) {\n        return callback(null)\n      }\n    }\n  }\n}\n\nmodule.exports = ncp\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}