{"ast":null,"code":"'use strict';\n\nvar Utils = require('./utils');\n\nvar arrayPrefixGenerators = {\n  brackets: function brackets(prefix) {\n    return prefix + '[]';\n  },\n  indices: function indices(prefix, key) {\n    return prefix + '[' + key + ']';\n  },\n  repeat: function repeat(prefix) {\n    return prefix;\n  }\n};\nvar defaults = {\n  delimiter: '&',\n  strictNullHandling: false,\n  skipNulls: false,\n  encode: true,\n  encoder: Utils.encode\n};\n\nvar stringify = function stringify(object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots) {\n  var obj = object;\n\n  if (typeof filter === 'function') {\n    obj = filter(prefix, obj);\n  } else if (obj instanceof Date) {\n    obj = obj.toISOString();\n  } else if (obj === null) {\n    if (strictNullHandling) {\n      return encoder ? encoder(prefix) : prefix;\n    }\n\n    obj = '';\n  }\n\n  if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || Utils.isBuffer(obj)) {\n    if (encoder) {\n      return [encoder(prefix) + '=' + encoder(obj)];\n    }\n\n    return [prefix + '=' + String(obj)];\n  }\n\n  var values = [];\n\n  if (typeof obj === 'undefined') {\n    return values;\n  }\n\n  var objKeys;\n\n  if (Array.isArray(filter)) {\n    objKeys = filter;\n  } else {\n    var keys = Object.keys(obj);\n    objKeys = sort ? keys.sort(sort) : keys;\n  }\n\n  for (var i = 0; i < objKeys.length; ++i) {\n    var key = objKeys[i];\n\n    if (skipNulls && obj[key] === null) {\n      continue;\n    }\n\n    if (Array.isArray(obj)) {\n      values = values.concat(stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n    } else {\n      values = values.concat(stringify(obj[key], prefix + (allowDots ? '.' + key : '[' + key + ']'), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n    }\n  }\n\n  return values;\n};\n\nmodule.exports = function (object, opts) {\n  var obj = object;\n  var options = opts || {};\n  var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n  var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n  var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n  var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n  var encoder = encode ? typeof options.encoder === 'function' ? options.encoder : defaults.encoder : null;\n  var sort = typeof options.sort === 'function' ? options.sort : null;\n  var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n  var objKeys;\n  var filter;\n\n  if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n    throw new TypeError('Encoder has to be a function.');\n  }\n\n  if (typeof options.filter === 'function') {\n    filter = options.filter;\n    obj = filter('', obj);\n  } else if (Array.isArray(options.filter)) {\n    objKeys = filter = options.filter;\n  }\n\n  var keys = [];\n\n  if (typeof obj !== 'object' || obj === null) {\n    return '';\n  }\n\n  var arrayFormat;\n\n  if (options.arrayFormat in arrayPrefixGenerators) {\n    arrayFormat = options.arrayFormat;\n  } else if ('indices' in options) {\n    arrayFormat = options.indices ? 'indices' : 'repeat';\n  } else {\n    arrayFormat = 'indices';\n  }\n\n  var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n  if (!objKeys) {\n    objKeys = Object.keys(obj);\n  }\n\n  if (sort) {\n    objKeys.sort(sort);\n  }\n\n  for (var i = 0; i < objKeys.length; ++i) {\n    var key = objKeys[i];\n\n    if (skipNulls && obj[key] === null) {\n      continue;\n    }\n\n    keys = keys.concat(stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n  }\n\n  return keys.join(delimiter);\n};","map":{"version":3,"names":["Utils","require","arrayPrefixGenerators","brackets","prefix","indices","key","repeat","defaults","delimiter","strictNullHandling","skipNulls","encode","encoder","stringify","object","generateArrayPrefix","filter","sort","allowDots","obj","Date","toISOString","isBuffer","String","values","objKeys","Array","isArray","keys","Object","i","length","concat","module","exports","opts","options","undefined","TypeError","arrayFormat","join"],"sources":["/Users/johnberetty/node_modules/qs/lib/stringify.js"],"sourcesContent":["'use strict';\n\nvar Utils = require('./utils');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar defaults = {\n    delimiter: '&',\n    strictNullHandling: false,\n    skipNulls: false,\n    encode: true,\n    encoder: Utils.encode\n};\n\nvar stringify = function stringify(object, prefix, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = obj.toISOString();\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder ? encoder(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || Utils.isBuffer(obj)) {\n        if (encoder) {\n            return [encoder(prefix) + '=' + encoder(obj)];\n        }\n        return [prefix + '=' + String(obj)];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(obj[key], generateArrayPrefix(prefix, key), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n        } else {\n            values = values.concat(stringify(obj[key], prefix + (allowDots ? '.' + key : '[' + key + ']'), generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = encode ? (typeof options.encoder === 'function' ? options.encoder : defaults.encoder) : null;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var objKeys;\n    var filter;\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        objKeys = filter = options.filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(obj[key], key, generateArrayPrefix, strictNullHandling, skipNulls, encoder, filter, sort, allowDots));\n    }\n\n    return keys.join(delimiter);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}